{"version":3,"sources":["components/BoxDiv.js","components/GameMachine.js","components/KeyDisplay.js","components/Lever.js","components/PointCounter.js","components/TotalPointCounter.js","components/HorizonTrial.js","components/instructions/InstructionTemplate.js","components/FullScreenButton.js","components/Endscreen.js","components/GameGenerator.js","components/Initiate.js","components/instructions/InstructionTrial.js","components/HorizonGame.js","index.js"],"names":["BoxDiv","props","style","borderWidth","border","margin","backgroundColor","this","width","height","alignItems","justifyContent","display","heldValue","React","Component","GameMachine","delayedNumber","bind","state","index","delayNumberReveal","timeDelay","setTimeout","setState","current_index","gameBoxes","i","gameLength","passedVars","values","valid","push","machineColor","KeyDisplay","position","top","left","padding","borderColor","machineKey","Lever","delayAnimation","animate","className","borderRadius","animation","animationDuration","PointCounter","description","color","points","TotalPointCounter","flex","totalPoints","get_random","arr","normal_dist","u","v","Math","random","sqrt","log","cos","PI","box_mueller","sd","mu","floor","HorizonTrial","subtrial","key_map","vars","length","String","keyBind","get_keys","machineVars","column_map","discovered","convert_to_column_map","key_press","advance_subtrial","process_choice","nextTrial","time","Date","data","meta_data","trial_data","total_points","document","addEventListener","removeEventListener","event","key_press_time","key","column","new_state","new_value","force","choice","value","reaction_time","getTime","trial_start_time","round_points","includes","j","items","num","to_animate","trial","textAlign","flexDirection","trialDescription","terminationPoints","InstructionTemplate","nextInstruction","nextInstructionKey","previousInstructionKey","previousInstruction","console","previousJump","divs","keys","fontSize","bottom","FullScreenButton","requestFullScreen","element","docVar","requestMethod","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullScreen","call","marginLeft","marginRight","onClick","Endscreen","shuffleArray","array","randomForce","information","even_information","weighted_positive_information","weighted_negative_information","Make_Game_Params","force_types","gameParams","loopObj","obj","builtObjList","keyIndex","Object","newObjList","tempObj","JSON","parse","stringify","ObjectPermutations","Make_Bandits","gameArray","newTrialArray","gameData","banditZero","banditOne","deltaMu","forcedBandit","map","Convert_Game_Params_To_HorizonTrial","gameSize","createWriteKey","templateKey","password","metaData","a","fetch","headers","authorization","method","body","res","json","Send_Data_To_Exius","params","writeKey","fd","FormData","fileInfo","URL","Blob","type","append","endpoint","fname","Initiate","preflightError","preflightFileFail","preflightInitiated","submitPreflight","updateInputValue","target","dataPreflight","failedFiles","getWriteKey","onChange","JSON_To_CSV","usefulData","usefulDataClone","trialData","trialString","fullString","Stringify_Single_Quotes","finalTrialString","substring","JSON_single","entries","JSON_Stringed","HorizonGame","sendDataToExius","nextInstructionTrial","csvData","currentTrial","instructionNumber","isFullScreen","instructionPoints","instructionSubtrial","instructionVars","addedMetaData","mainBandit","instructions","documentElement","InstructionTrial","gameTrials","game","trialParams","banditForce","mainBanditMu","mainBanditSd","JSONData","CSVData","dateStart","now","dateEnd","instructionJump","instructionBegin","money","bonus","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e688d25e.chunk.js","sourcesContent":["import React from \"react\"\nclass BoxDiv extends(React.Component){\n    // This loads the basic box used in the slot machines. Takes the prop backgroundColor.\n    // It is a child component of \"GameMachine\"\n    constructor(props){\n        super(props)\n    }\n    render(){\n        return <div style={{\n            borderWidth: \"25px\",\n            border: \"solid black\",\n            margin: \"5px\",\n            backgroundColor:(this.props.backgroundColor ? this.props.backgroundColor: \"white\"),\n            width: \"40px\", \n            height:\"40px\",\n            alignItems:\"center\",justifyContent:\"center\",display:\"flex\"}}>\n        {this.props.heldValue}</div>\n    }\n}\nexport default BoxDiv","import React from \"react\"\nimport BoxDiv from \"./BoxDiv\"\nclass GameMachine extends(React.Component){\n    // GameMachine makes the body of the slot machine. It takes in the props of index (int) which is the current \n    // subtrial number, valid (boolian) which specifies if on this trial the machine can be selected, gameLength (int)\n    // which is the length of the machine, machineColor (string) which is the color of the slot machine, delayNumberReveal which\n    // specifies if there should be a delay in showing the most recent index, timeDelay which specifies the time delay if delayNumberReveal is true\n    // and values (array) which is the display values in the boxes up until the current trial.\n    // GameMachine is a child component of \"Horizon Trial\"\n    constructor(props){\n        super(props)\n        this.delayedNumber=this.delayedNumber.bind(this)\n        this.state={index:this.props.index-1}\n        if (props.delayNumberReveal){\n            this.delayedNumber(this.props.timeDelay)\n        }\n    }\n    delayedNumber(timeDelay){\n        // delays showing the number on the current index for a number of miliseconds specified by timeDelay\n        setTimeout(()=>{this.setState({index:this.state.index+1})},timeDelay)\n    }\n    render(){\n        // renders the game machine\n        let current_index=this.state.index+1\n        var gameBoxes=[]\n        for(var i=0;i<this.props.gameLength;i++){\n            let passedVars={}\n            if (i<current_index){\n                passedVars.heldValue=this.props.values[i]\n            }\n            if (i===current_index && this.props.valid){\n                passedVars.backgroundColor=\"lightgreen\"\n            }\n                gameBoxes.push(<BoxDiv key= {i} backgroundColor={passedVars.backgroundColor} heldValue={passedVars.heldValue}/>)\n        }\n        return(\n        <div style={{border:`solid ${(this.props.machineColor)?this.props.machineColor:\"black\"} 5px`}}>\n            {gameBoxes}\n        </div>)\n    }\n}\nexport default GameMachine","import React from \"react\"\nclass KeyDisplay extends(React.Component){\n    // this displays a keyboard key value inside of a box. It is a child component of 'HorizonTrial'\n    // The props passed are borderColor (string) and machineKey (string) which is a keyboard key.\n    constructor(props){\n        super(props)\n    }\n    render(){\n        return (\n            <div style={{position:\"absolute\",top:\"90vh\",width:\"175px\"}}>\n                <div style={{position: \"absolute\", left:\"30px\",margin:\"5px\",padding:\"5px\", border:`solid ${this.props.borderColor} 2px`}}> Key: {this.props.machineKey}</div>\n            </div>\n        )\n}}\nexport default KeyDisplay","import React from \"react\"\nimport \"../style.css\"\nclass Lever extends(React.Component){\n    // this makes a lever that pulls like a slot machine. It takes props \n    // backgroundColor (string), delayAnimation (boolian) which delays the \n    // animation by a set time, animate which sets the lever to pull or not, \n    // timeDelay which sets the time delay for the lever pull.\n    // Lever is a child component of \"HorizonTrial\"\n    constructor(props){\n        super(props)\n        this.delayAnimation=this.delayAnimation.bind(this)\n        if (props.delayAnimation){\n            this.delayAnimation(this.props.timeDelay)\n        }\n        this.state={animate:this.props.animate}\n    }\n    delayAnimation(timeDelay){\n        // this sets the animation to trigger with some time delay\n        setTimeout(()=>{\n            this.setState({animate:true})\n        }, timeDelay)\n    }\n    render(){\n        // this renders the lever.\n        return <div>\n                    <div className=\"lever_ball\" style={{width:\"25px\",height:\"25px\", borderRadius:\"50%\", backgroundColor:this.props.backgroundColor, animation:(this.state.animate ? \"ball_clink\":\"\"), animationDuration:(this.state.animate ? \".5s\":\"\")}}>\n                    </div>\n                    <div className=\"lever_arm\" style={{width:\"5px\",height:\"90px\", backgroundColor:this.props.backgroundColor, animation:(this.state.animate ? \"arm_clink\": \"\"), animationDuration:(this.state.animate ? \".5s\":\"\")}}>\n                    </div >\n                    <div style={{position: \"relative\", width:25, height:5, backgroundColor:this.props.backgroundColor, top: \"25%\",left:\"0px\"}}>\n                    </div>\n                </div>\n    }\n}\n\nexport default Lever","import React from \"react\"\nclass PointCounter extends(React.Component){\n    // this class is the simple counter button that appears in the horizon task.\n    // It is a child component of \"HorizonTrial\"\n    constructor(props){\n        super(props)\n    }\n    render(){\n        //renders the point counter\n        return (<div style={{width:this.props.width,height:this.props.height,border:`solid ${this.props.borderColor} 2px`}}>\n                    {this.props.description+\":\"}\n                    <div style={{color:\"green\"}}>\n                        {this.props.points+\"$\"}\n                    </div>\n                 </div>)\n    }\n}\nexport default PointCounter","import React from \"react\"\nclass TotalPointCounter extends(React.Component){\n    // this renders the total point counter in the trial. It takes the props \n    // borderColor, width, and height which specify the counter box dimensions. In addition\n    // it takes in points (which is the point number to display), description which gives the words\n    // to display, and totalPoints\n    // it is a child component of \"HorizonTrial\"\n    constructor(props){\n        super(props)\n    }\n    render(){\n        return (<div style={{ width:this.props.width,height:this.props.height,border:`solid ${this.props.borderColor} 2px`}}>\n                    {this.props.description+\":\"}\n                    <div style={{display:\"flex\", flex:\"row\", justifyContent:\"center\"}}>\n                        <div style={{color:\"green\"}}>\n                            {this.props.points+\"$\"}\n                        </div>\n                        <div>/</div>\n                        <div>\n                            {this.props.totalPoints+\"$\"}\n                        </div>\n                    </div>\n                </div>)\n    }\n}\nexport default TotalPointCounter","import React from \"react\"\nimport GameMachine from \"./GameMachine\"\nimport KeyDisplay from \"./KeyDisplay\"\nimport Lever from \"./Lever\"\nimport PointCounter from \"./PointCounter\"\nimport TotalPointCounter from \"./TotalPointCounter\"\nimport \"../style.css\"\nclass HorizonTrial extends(React.Component){\n    // example prop; props={trial:x,gameLength:x,machineVars:[{mu:x,sd:x,keyBind:a,color:x},{mu:x,sd:x,keyBind:b,color:y}],force=[]}\n    // Takes in a trial (int) which specifies the trial number, gameLength (int) which specifies the number of subtrials in a trial,\n    // machineVars (array of objects with methods mu, sd, keyBind, and color)) which specifies the variables in each of the slot machines,\n    // and force (array of arrays) which specifies the index of each slot machine that is being forced to play. If nothing is passed for a trial,\n    // all are valid choices.\n    // this is a child component of \"HorizonGame\"\n    constructor(props){\n        super(props)\n        this.subtrial=-1\n        this.key_map=get_keys(this.props.machineVars)\n        this.column_map=convert_to_column_map(this.props.machineVars)\n        this.key_press =this.key_press.bind(this)\n        this.advance_subtrial=this.advance_subtrial.bind(this)\n        this.process_choice=this.process_choice.bind(this)\n        this.nextTrial=this.nextTrial.bind(this)\n        this.time=new Date()\n        this.data={meta_data:this.props,trial_data:[]}\n        this.state={}\n        this.advance_subtrial()\n        for (var i =0; i<this.props.machineVars.length; i++){\n            this.state[String(i)]={valid:this.column_map[String(i)].valid,discovered:[],description:this.column_map[String(i).description]}\n        }\n        this.state[\"total_points\"]=this.props.total_points\n        this.state[\"round_points\"]=0\n    }\n    componentDidMount(){\n        //adds the event listener for the key press tied to the machine\n        document.addEventListener(\"keydown\",this.key_press)\n    }\n    componentWillUnmount(){\n        // removes the event listener for the key press tied to the machine\n        document.removeEventListener(\"keydown\",this.key_press)\n    }\n    key_press(event){\n        // this takes a keypress event, maps it to the corresponding machine number\n        if (this.subtrial<this.props.gameLength){\n            const key_press_time = new Date()\n            if (String(event.key) in this.key_map){\n                if (this.column_map[String(this.key_map[event.key])].valid){\n                    this.process_choice(String(this.key_map[String(event.key)]),key_press_time)\n                }\n            }\n        }\n\n    }\n    process_choice(column,key_press_time){\n        // process_choice takes in a column number and updates the state of the trial to the next.\n        this.advance_subtrial()\n        let new_state={}\n        let new_value=null\n        for (var i=0;i<this.props.machineVars.length;i++){\n            if (String(i)===column){\n                new_value=get_random(this.column_map,column)\n                this.column_map[String(i)].discovered.push(new_value)\n            }else{\n                this.column_map[String(i)].discovered.push(\"xxx\")\n            }\n            new_state[String(i)]={valid:this.column_map[String(i)].valid,discovered:this.column_map[String(i)].discovered}   \n        }\n        new_state[\"last_choice\"]=column\n        if (this.subtrial>this.props.force.length){\n            new_state[\"total_points\"]=this.state[\"total_points\"]+new_value\n            new_state[\"round_points\"]=this.state[\"round_points\"]+new_value\n        }\n        this.data.trial_data.push({choice: column, value: new_value, reaction_time: key_press_time.getTime()-this.trial_start_time.getTime()})\n        this.setState(new_state)\n        if (this.subtrial>=this.props.gameLength){\n            setTimeout(this.nextTrial,1000)\n        }else{\n        }\n    }\n\n    nextTrial(){\n        // this passes the next trial information into the parent component\n        this.props.nextTrial(this.data,this.state.round_points)\n    }\n\n    advance_subtrial(){\n        // moves the subtrial up by one, adds trial data to the experiment, and determines which columns are valid choices for next time\n        this.subtrial+=1\n        if (this.subtrial<this.props.force.length){\n            for (var i=0; i<this.props.machineVars.length; i++){\n                if (this.props.force[this.subtrial].includes(i)){\n                    this.column_map[String(i)].valid=true\n                }\n                else{\n                    this.column_map[String(i)].valid=false\n                }\n            }\n        }else{\n            for (var j=0; j<this.props.machineVars.length; j++){\n                this.column_map[String(j)].valid=true\n            }\n        }\n    }\n    render(){\n        // renders the trial\n        var items=[]\n        var num = null\n        var to_animate=false\n        for (var i=0;i<this.props.machineVars.length;i++){\n            num=this.state[String(i)].discovered.length\n            if (String(i)==this.state[\"last_choice\"]){\n                to_animate=true\n            }else{\n                to_animate=false\n            }\n            items.push(\n            <div key={i} className=\"column\">\n                <h2 style={{position:\"relative\", left:\"10px\"}}>\n                    {this.column_map[String(i)].description}\n                </h2>\n                <div className=\"row\">\n                    <Lever key={\"Lever \"+String(this.props.trial)+\";\"+String(this.subtrial)} animate={to_animate} backgroundColor={this.column_map[String(i)].machineColor}/>\n                    <GameMachine key={\"Game Machine \"+String(this.props.trial)+\";\"+String(this.subtrial)} index={num} valid={this.state[String(i)].valid} values={this.state[String(i)].discovered} gameLength={this.props.gameLength} machineColor={this.column_map[String(i)].machineColor}/>\n                </div>\n                <KeyDisplay key={\"Key Display \"+String(this.props.trial)+\";\"+String(this.subtrial)} borderColor={this.column_map[String(i)].machineColor} machineKey={this.props.machineVars[i].keyBind}/>\n            </div>\n            )\n        }\n       this.trial_start_time=new Date()\n        return(<div>\n                    <h1 style={{ width: \"100%\",textAlign:\"center\", display:\"flex\", flexDirection:\"row\", justifyContent:\"space-between\"}}>\n                        <PointCounter points={this.state.round_points} width=\"300px\" height=\"75px\" borderColor=\"black\" description=\"Money This Round\"/>\n                        {this.props.trialDescription}\n                        <TotalPointCounter points={this.state.total_points} width=\"300px\" height=\"75px\" borderColor=\"black\" description=\"Total Money Earned\" totalPoints={this.props.terminationPoints}/>\n                    </h1>\n                    <div className=\"row\" style ={{ justifyContent:\"space-evenly\",alignItems:\"center\"}}>{items}\n                    </div>\n                </div>)\n    }\n}\nfunction get_keys(arr){\n    //takes in the machine array, finds the keyBinds, and maps it to the column id.\n    let vars={}\n    for (var i=0;i<arr.length;i++){\n        vars[String(arr[i].keyBind)]=i\n    }\n    return vars\n}\nfunction convert_to_column_map(arr){\n    //takes in the machine array, and maps it into a column format with all the necessary variables\n    let column_map={}\n    for (var i=0;i<arr.length;i++){\n        column_map[String(i)]={mu:arr[i].mu, sd:arr[i].sd, valid: false, discovered:[], machineColor:arr[i].color, description:arr[i].description}\n    }\n    return column_map\n}\nfunction box_mueller() {\n    // all credit to stack exhange\n    var u = 0, v = 0;\n    while(u === 0) u = Math.random(); \n    while(v === 0) v = Math.random();\n    return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n}\nfunction get_random(arr,i){\n    // gets a random number from normal dist with mean and sd as specified in the machine\n    // parameters.\n    let normal_dist=box_mueller()*arr[i].sd+arr[i].mu\n    return Math.floor(normal_dist)\n}\nexport default HorizonTrial","import React from \"react\"\nclass InstructionTemplate extends(React.Component){\n    // This gives a template for instructions. It takes in the props: divs (which is an array of divs)\n    // previousInstruction, nextInstruction which point to functions in the parent component to move\n    // to the next and previous instructions, in addition previousInstructionKey and nextInstructionKey which\n    // specify the next and previous key. This is a child component for \"Horizon Game\"\n    constructor(props){\n        super(props)\n        this.nextInstruction=this.nextInstruction.bind(this)\n        this.key_press=this.key_press.bind(this)\n    }\n    componentDidMount(){\n        //this adds the key event listener to move between instructions\n        document.addEventListener(\"keydown\",this.key_press)\n    }\n    componentWillUnmount(){\n        //this adds the key event listener to move between instructions\n        document.removeEventListener(\"keydown\",this.key_press)\n    }\n    key_press(event){\n        // this takes a keypress event and moves to the next or previous trial respectively\n        if (event.key===this.props.nextInstructionKey){\n            this.nextInstruction()\n        }\n        if(event.key===this.props.previousInstructionKey){\n            this.previousInstruction()\n        }\n    }\n    nextInstruction(){\n        // this fires the parent function to move to the next instruction\n        this.props.nextInstruction()\n    }\n    previousInstruction(){\n        // this fires the parent function to move to the previous instruction\n        console.log(this.props.previousJump)\n        this.props.previousInstruction((this.props.previousJump)?this.props.previousJump:1)\n    }\n    render(){\n        // this renders the instruction set with all the divs passed and the previous and next trials.\n        var divs=[]\n        var keys=[]\n        for (var i=0;i<this.props.divs.length;i++){\n            divs.push(this.props.divs[i])\n        }\n        if (this.props.previousInstructionKey){\n            keys.push(<div key={\"previous \"+String(i)} style={{ width:\"200px\", height:\"50px\", border:\"solid black 5px\", textAlign:\"center\", fontSize:\"20px\", margin:\"5px\"}}>{`Press ${this.props.previousInstructionKey} to go back`}</div>\n            )\n        }\n        if (this.props.nextInstructionKey){\n            keys.push(<div key={\"next \"+String(i)} style={{ width:\"200px\", height:\"50px\", border:\"solid black 5px\", textAlign:\"center\", fontSize:\"20px\", margin:\"5px\"}}>{`Press ${this.props.nextInstructionKey} to continue`}</div>\n            )\n        }\n        return (\n        <div>\n            {divs}\n        <div style={{display:\"flex\",flex:\"row\", position:\"fixed\", justifyContent:\"space-evenly\", bottom:\"5%\", width:\"100%\"}}>\n            {keys}\n        </div>\n        </div>)\n    }}\nexport default InstructionTemplate","import React from \"react\"\nimport \"../style.css\"\nclass FullScreenButton extends(React.Component){\n    // This takes in a prop nextInstruction which calls a parent function to move to the next instruction.\n    // This gives a button that allows the user to request to go fullscreen. It is a child component of \"Horizon Game\"\n    constructor(props){\n        super(props)\n        this.requestFullScreen=this.requestFullScreen.bind(this)\n    }\n    requestFullScreen() {\n    var element=this.props.docVar\n    var requestMethod = element.requestFullScreen || element.webkitRequestFullScreen || element.mozRequestFullScreen || element.msRequestFullScreen;\n    if (requestMethod) {\n    requestMethod.call(element)\n    }\n    this.props.nextInstruction()\n    }\n    render(){\n            return <div>\n                    <h1 style={{border:\"solid black 5px\", marginLeft:\"100px\", marginRight:\"100px\", textAlign:\"center\"}}>This experiment is best viewed in full screen, click the button below to go fullscreen and enter the experiment!</h1>\n                    <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                        <button className=\"fullscreenbutton\"style={{top:\"150px\"}} onClick={this.requestFullScreen}>Go Fullscreen</button>\n                    </div>\n                    </div>\n    }\n}\nexport default FullScreenButton","import React from \"react\"\nclass Endscreen extends(React.Component){\n    //This gives the endscreen. It will also export the data here.\n    // It takes in data (array of objects) with all the trial data in it, \n    //bonus (int) which is the total money earned, and money which is the total \n    //in game dollars accumulated. It is a child component of \"Horizon Game\"\n    constructor(props){\n        super(props)\n    }\n    render(){\n        console.log(this.props.data)\n        return (<h1 style={{border:\"solid black 5px\", marginLeft:\"100px\", marginRight:\"100px\", textAlign:\"center\"}}>The experiment in now over! You may now close this tab.</h1>\n        )\n    }\n}\nexport default Endscreen","function ObjectPermutations(loopObj){\n    let builtObjList=[{}]\n    for (var keyIndex=0; keyIndex<Object.keys(loopObj).length; keyIndex++){\n        let newObjList=[]\n        for (var i=0;i<builtObjList.length;i++){\n            for (var j=0;j<loopObj[Object.keys(loopObj)[keyIndex]].length;j++){\n                let tempObj=cloneObj(builtObjList[i])\n                tempObj[Object.keys(loopObj)[keyIndex]]=loopObj[Object.keys(loopObj)[keyIndex]][j]\n                newObjList.push(tempObj)\n            }\n        }\n        builtObjList=newObjList\n    }\n    return builtObjList\n}\nfunction cloneObj(obj){\n    return JSON.parse(JSON.stringify(obj))\n}\nfunction shuffleArray(array) {\n    // all credit to stack overflow\n    for (let i = array.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n}\nfunction randomForce(information=\"even\"){\n    let even_information=[\"main\",\"main\",\"other\",\"other\"]\n    let weighted_positive_information=[\"main\",\"main\",\"main\",\"other\"]\n    let weighted_negative_information=[\"main\",\"other\",\"other\",\"other\"]\n    if (information===\"even\"){\n        shuffleArray(even_information)\n        return even_information\n    }\n    if (information===\"weight_positive\"){\n        shuffleArray(even_information)\n        return weighted_positive_information\n    }\n    if (information===\"weight_negative\"){\n        shuffleArray(even_information)\n        return weighted_negative_information\n    }\n}\nfunction Make_Game_Params(){\n    let force_types=[\"even\",\"weight_negative\",\"weight_positive\"]\n    let gameParams=ObjectPermutations({\"mu\":[40,60],\"deltaMu\":[-30, -20, -12, -8, -4, 4, 8, 12, 20, 30],\"sd\":[8],\"mainBandit\":[0,1],\"gameLength\":[5,10]})\n    for (var i=0;i<gameParams.length;i++){\n        gameParams[i][\"forcedBandit\"]=randomForce(force_types[Math.floor(Math.random()*3)])\n    }\n    return gameParams\n}\nfunction Convert_Game_Params_To_HorizonTrial(gameParams){\n    let newTrialArray=[]\n    for (var i=0;i<gameParams.length;i++){\n        let gameData={machineVars:[], gameLength:null, force:[]}\n        let banditZero={}\n        let banditOne={}\n        if(gameParams[i][\"mainBandit\"]===0){\n            banditZero[\"mu\"]=gameParams[i].mu\n            banditOne[\"mu\"]=gameParams[i].mu+gameParams[i].deltaMu\n            gameData[\"force\"]=gameParams[i].forcedBandit.map((force)=>{\n                if(force==\"main\"){\n                    return [0]\n                }else{\n                    return [1]\n                }\n            })\n        }\n        else{\n            banditZero[\"mu\"]=gameParams[i].mu+gameParams[i].deltaMu\n            banditOne[\"mu\"]=gameParams[i].mu\n            gameData[\"force\"]=gameParams[i].forcedBandit.map((force)=>{\n                if(force==\"main\"){\n                    return [1]\n                }else{\n                    return [0]\n                }\n            })\n        }\n        banditZero[\"sd\"]=gameParams[i].sd\n        banditOne[\"sd\"]=gameParams[i].sd\n        banditZero[\"keyBind\"]=\"ArrowLeft\"\n        banditOne[\"keyBind\"]=\"ArrowRight\"\n        banditZero[\"color\"]=\"red\"\n        banditOne[\"color\"]=\"blue\"\n        banditZero[\"description\"]=\"Left Bandit\"\n        banditOne[\"description\"]=\"Right Bandit\"\n        gameData[\"gameLength\"]=gameParams[i].gameLength\n        gameData[\"machineVars\"].push(banditZero)\n        gameData[\"machineVars\"].push(banditOne)\n        gameData[\"addedMetaData\"]=gameParams[i]\n        gameData[\"trialDescription\"]=`Horizon Trial ${i+1} of ${gameParams.length}`\n        newTrialArray.push(gameData)\n    }\n    return newTrialArray\n}\nfunction Make_Bandits(){\n    let gameArray=Convert_Game_Params_To_HorizonTrial(Make_Game_Params())\n    shuffleArray(gameArray)\n    let gameSize=gameArray.length\n    for (var i=0;i<gameSize;i++){\n        gameArray[i].trialDescription=`Horizon Trial ${i+1} of ${gameSize}`\n    }\n    return gameArray\n\n}\nexport default Make_Bandits","import React from \"react\"\nimport \"../style.css\"\nasync function createWriteKey(templateKey,password,metaData){\n    try{\n    let res =await fetch(\"https://exius.nrdlab.org/WriteKey/createWriteKey\",{\n    headers:{\n    'Content-Type': 'application/json',\n    authorization:`templateKey:${templateKey};password:${password}`},\n    method:\"POST\",\n    body:JSON.stringify({metaData:metaData})})\n    return await res.json()}\n    catch(e){\n        throw e\n    }\n}        \nasync function Send_Data_To_Exius(params,templateKey,writeKey){\n    // [{endpoint:Horizon_CSV,data:data,fname:fname}]\n    try{\n        var fd=new FormData()\n        for ( const fileInfo of params){\n            console.log(fileInfo)\n            let URL = new Blob([fileInfo.data], { type: 'text/csv;charset=utf-8;' });\n            fd.append(fileInfo.endpoint,URL,fileInfo.fname)\n        }\n        let res = await fetch(\"https://exius.nrdlab.org/Upload\",{\n            headers:{authorization:`templateKey:${templateKey};writeKey:${writeKey}`},\n            method:\"POST\",\n            body: fd})\n        return await res.json()}\n    catch(e){\n        throw e\n    }}\n\nclass Initiate extends(React.Component){\n    // This takes in a prop nextInstruction which calls a parent function to move to the next instruction as well as\n    // getWriteKey which passes the writeKey to the main HorizonGame.\n    constructor(props){\n        super(props)\n        this.password=\"\"\n        this.state={preflightError:false,preflightFileFail:{},preflightInitiated:false}\n        this.submitPreflight=this.submitPreflight.bind(this)\n        this.updateInputValue=this.updateInputValue.bind(this)\n        console.log(this.props)\n    }\n    updateInputValue(event){\n        this.password=event.target.value\n    }\n    async submitPreflight(){\n        try{\n            this.setState({preflightInitiated:true})\n            let writeKey=await createWriteKey(\"Horizon_Task\",this.password,\"test_data\")\n            let dataPreflight=await Send_Data_To_Exius([{endpoint:\"HorizonJSON\",fname:\"Subject.json\",data:\"\"},{endpoint:\"HorizonCSV\",fname:\"Subject.csv\",data:\"\"}],\"Horizon_Task\",writeKey.writeKey)\n            console.log(writeKey.writeKey)\n            console.log(dataPreflight)\n            if (Object.keys(dataPreflight.failedFiles).length==0){\n                this.props.getWriteKey(writeKey.writeKey)\n                this.props.nextInstruction()\n            }\n            else{\n                this.setState({preflightFileFail:dataPreflight})\n            }\n        }\n        catch(e){\n            console.log(\"error\")\n            this.setState({preflightError:true})\n        }\n    }\n    render(){\n        if (!this.state.preflightError && Object.keys(this.state.preflightFileFail).length===0){\n            return <div>\n            <h1 style={{top:\"200px\",position:\"relative\",textAlign:\"center\"}}>Input Experiment Password Below</h1>\n            <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                <input style={{top:\"200px\",position:\"relative\",width:\"400px\",height:\"50px\",fontSize:\"50px\"}} type=\"text\" onChange={this.updateInputValue}></input>\n            </div>\n            <div style={{display:\"flex\", justifyContent:\"center\"}}>\n                <button className=\"fullscreenbutton\" style={{width:\"200px\",height:\"400\", top:\"300px\"}} onClick={this.submitPreflight}>Submit</button>\n            </div>\n            <h1 style={{width:\"100%\",top:\"400px\",textAlign:\"center\",position:\"relative\"}}>{(this.state.preflightInitiated)?\"Verifying Credentials...\":\"\"}</h1>\n            </div>\n    }\n    else{\n        if(this.state.preflightError){\n            return <div>Credentials Preflight Failed</div>\n        }\n        else{\n            return <div>Failed Files: {this.dataPreflight}</div>\n        }\n    }}\n\n}\nexport default Initiate","import React from \"react\"\nimport GameMachine from \"../GameMachine\"\nimport KeyDisplay from \"../KeyDisplay\"\nimport Lever from \"../Lever\"\nimport \"../../style.css\"\nclass HorizonTrial extends(React.Component){\n    // example prop; props={trial:x,gameLength:x,machineVars:[{mu:x,sd:x,keyBind:a,color:x},{mu:x,sd:x,keyBind:b,color:y}],force=[]}\n    // Takes in a trial (int) which specifies the trial number, gameLength (int) which specifies the number of subtrials in a trial,\n    // machineVars (array of objects with methods mu, sd, keyBind, and color)) which specifies the variables in each of the slot machines,\n    // and force (array of arrays) which specifies the index of each slot machine that is being forced to play. If nothing is passed for a trial,\n    // all are valid choices.\n    // this is a child component of \"HorizonGame\"\n    constructor(props){\n        super(props)\n        this.subtrial=-1\n        this.key_map=get_keys(this.props.machineVars)\n        this.column_map=convert_to_column_map(this.props.machineVars)\n        this.key_press =this.key_press.bind(this)\n        this.advance_subtrial=this.advance_subtrial.bind(this)\n        this.process_choice=this.process_choice.bind(this)\n        this.nextInstruction=this.nextInstruction.bind(this)\n        this.time=new Date()\n        this.data={meta_data:this.props,trial_data:[]}\n        this.state={}\n        this.advance_subtrial()\n        for (var i =0; i<this.props.machineVars.length; i++){\n            this.state[String(i)]={valid:this.column_map[String(i)].valid,discovered:[],description:this.column_map[String(i).description]}\n        }\n        this.state[\"total_points\"]=props.total_points\n        this.state[\"round_points\"]=0\n    }\n    componentDidMount(){\n        //adds the event listener for the key press tied to the machine\n        document.addEventListener(\"keydown\",this.key_press)\n    }\n    componentWillUnmount(){\n        // removes the event listener for the key press tied to the machine\n        document.removeEventListener(\"keydown\",this.key_press)\n    }\n    key_press(event){\n        // this takes a keypress event, maps it to the corresponding machine number\n        if (this.subtrial<this.props.gameLength){\n            const key_press_time = new Date()\n            if (String(event.key) in this.key_map){\n                if (this.column_map[String(this.key_map[event.key])].valid){\n                    this.process_choice(String(this.key_map[String(event.key)]),key_press_time)\n                }\n            }\n        }\n    }\n    process_choice(column,key_press_time){\n        // process_choice takes in a column number and updates the state of the trial to the next.\n        this.advance_subtrial()\n        let new_state={}\n        let new_value=null\n        for (var i=0;i<this.props.machineVars.length;i++){\n            if (String(i)===column){\n                new_value=get_random(this.column_map,column)\n                this.column_map[String(i)].discovered.push(new_value)\n            }else{\n                this.column_map[String(i)].discovered.push(\"xxx\")\n            }\n            new_state[String(i)]={valid:this.column_map[String(i)].valid,discovered:this.column_map[String(i)].discovered}   \n        }\n        new_state[\"last_choice\"]=column\n        if (this.subtrial>this.props.force.length){\n            new_state[\"total_points\"]=this.state[\"total_points\"]+new_value\n            new_state[\"round_points\"]=this.state[\"round_points\"]+new_value\n        }\n        this.data.trial_data.push({choice: column, value: new_value, reaction_time: key_press_time.getTime()-this.trial_start_time.getTime()})\n        this.setState(new_state)\n        if (this.subtrial>=this.props.gameLength){\n            setTimeout(this.nextInstruction,1000)\n        }else{\n        }\n    }\n\n    nextInstruction(){\n        // this passes the next trial information into the parent component\n        console.log(this.props)\n        this.props.nextInstruction()\n    }\n\n    advance_subtrial(){\n        // moves the subtrial up by one, adds trial data to the experiment, and determines which columns are valid choices for next time\n        this.subtrial+=1\n        if (this.subtrial<this.props.force.length){\n            for (var i=0; i<this.props.machineVars.length; i++){\n                if (this.props.force[this.subtrial].includes(i)){\n                    this.column_map[String(i)].valid=true\n                }\n                else{\n                    this.column_map[String(i)].valid=false\n                }\n            }\n        }else{\n            for (var j=0; j<this.props.machineVars.length; j++){\n                this.column_map[String(j)].valid=true\n            }\n        }\n    }\n    render(){\n        // renders the trial\n        var items=[]\n        var num = null\n        var to_animate=false\n        for (var i=0;i<this.props.machineVars.length;i++){\n            num=this.state[String(i)].discovered.length\n            if (String(i)==this.state[\"last_choice\"]){\n                to_animate=true\n            }else{\n                to_animate=false\n            }\n            items.push(\n            <div key={i} className=\"column\">\n                <h2 style={{position:\"relative\", left:\"10px\"}}>\n                    {this.column_map[String(i)].description}\n                </h2>\n                <div className=\"row\">\n                    <Lever key={\"Lever \"+String(this.props.trial)+\";\"+String(this.subtrial)} animate={to_animate} backgroundColor={this.column_map[String(i)].machineColor}/>\n                    <GameMachine key={\"Game Machine \"+String(this.props.trial)+\";\"+String(this.subtrial)} index={num} valid={this.state[String(i)].valid} values={this.state[String(i)].discovered} gameLength={this.props.gameLength} machineColor={this.column_map[String(i)].machineColor}/>\n                </div>\n                <KeyDisplay key={\"Key Display \"+String(this.props.trial)+\";\"+String(this.subtrial)} borderColor={this.column_map[String(i)].machineColor} machineKey={this.props.machineVars[i].keyBind}/>\n            </div>\n            )\n        }\n       this.trial_start_time=new Date()\n        return(<div>\n                    <h1 style={{ width: \"100%\",textAlign:\"center\", display:\"flex\", flexDirection:\"row\", justifyContent:\"space-between\"}}>\n                        <div style={{textAlign:\"center\", width:\"100%\"}}>{this.props.trialDescription}</div>\n                    </h1>\n                    <div className=\"row\" style ={{ justifyContent:\"space-evenly\",alignItems:\"center\"}}>{items}\n                    </div>\n                </div>)\n    }\n}\nfunction get_keys(arr){\n    //takes in the machine array, finds the keyBinds, and maps it to the column id.\n    let vars={}\n    for (var i=0;i<arr.length;i++){\n        vars[String(arr[i].keyBind)]=i\n    }\n    return vars\n}\nfunction convert_to_column_map(arr){\n    //takes in the machine array, and maps it into a column format with all the necessary variables\n    let column_map={}\n    for (var i=0;i<arr.length;i++){\n        column_map[String(i)]={mu:arr[i].mu, sd:arr[i].sd, valid: false, discovered:[], machineColor:arr[i].color, description:arr[i].description}\n    }\n    return column_map\n}\nfunction box_mueller() {\n    // all credit to stack exhange\n    var u = 0, v = 0;\n    while(u === 0) u = Math.random(); \n    while(v === 0) v = Math.random();\n    return Math.sqrt( -2.0 * Math.log( u ) ) * Math.cos( 2.0 * Math.PI * v );\n}\nfunction get_random(arr,i){\n    // gets a random number from normal dist with mean and sd as specified in the machine\n    // parameters.\n    let normal_dist=box_mueller()*arr[i].sd+arr[i].mu\n    return Math.floor(normal_dist)\n}\nexport default HorizonTrial","import React from \"react\"\nimport HorizonTrial from \"./HorizonTrial\"\nimport InstructionTemplate from \"./instructions/InstructionTemplate\"\nimport Lever from \"./Lever\"\nimport GameMachine from \"./GameMachine\"\nimport FullScreenButton from \"./FullScreenButton\"\nimport Endscreen from \"./Endscreen\"\nimport Make_Bandits from \"./GameGenerator\"\nimport Initiate from \"./Initiate\"\nimport InstructionTrial from \"./instructions/InstructionTrial\"\nimport TotalPointCounter from \"./TotalPointCounter\"\nimport PointCounter from \"./PointCounter\"\nimport \"../style.css\"\nclass HorizonGame extends(React.Component){\n    //this class loads the Horizon Game including the instructions. There are no props passed\n    constructor(props){\n        super(props)\n        this.nextTrial=this.nextTrial.bind(this)\n        this.nextInstruction=this.nextInstruction.bind(this)\n        this.previousInstruction=this.previousInstruction.bind(this)\n        this.getWriteKey=this.getWriteKey.bind(this)\n        this.sendDataToExius=this.sendDataToExius.bind(this)\n        this.nextInstructionTrial=this.nextInstructionTrial.bind(this)\n        this.gameData=[]\n        this.csvData=\"trial,gamelength,banditForce,mainBandit,mainBanditMu,mainBanditSd,deltaMu,trial1,trial2,trial3,trial4,trial5,trial6,trial7,trial8,trial9,trial10\\n\"\n        this.totalPoints=0\n        this.terminationPoints=14000\n        this.state={currentTrial:0,instructionNumber:0,isFullScreen:false,instructionPoints:0,instructionSubtrial:0}\n        this.writeKey=null\n        this.instructionVars=[\n            {gameLength:10,machineVars:[{mu:20,sd:8,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:10,sd:8,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[0],[1],[1],[1]],trialDescription:\"Instruction Trial 1 of 4\", addedMetaData:{gameLength:10,forcedBandit:[[\"main\"],[\"other\"],[\"other\"],[\"other\"]],mainBandit:\"0\",mu:20, sd:8,deltaMu:-10}},\n            {gameLength:5,machineVars:[{mu:60,sd:8,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:40,sd:8,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[0],[1],[1],[0]],trialDescription:\"Instruction Trial 2 of 4\",addedMetaData:{gameLength:5,forcedBandit:[[\"other\"],[\"main\"],[\"main\"],[\"other\"]],mainBandit:\"1\",mu:40, sd:8,deltaMu:20}},\n            {gameLength:5,machineVars:[{mu:60,sd:8,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:45,sd:8,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[1],[1],[0],[1]],trialDescription:\"Instruction Trial 3 of 4\",addedMetaData:{gameLength:5,forcedBandit:[[\"main\"],[\"other\"],[\"main\"],[\"other\"]],mainBandit:\"0\",mu:60, sd:8,deltaMu:-15}},\n            {gameLength:10,machineVars:[{mu:70,sd:8,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:40,sd:8,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[0],[1],[0],[1]],trialDescription:\"Instruction Trial 4 of 4\",addedMetaData:{gameLength:10,forcedBandit:[[\"other\"],[\"main\"],[\"other\"],[\"main\"]],mainBandit:\"1\",mu:40, sd:8,deltaMu:30}},\n        ]\n        this.instructions=[\n            <Initiate key={-1} getWriteKey={this.getWriteKey} nextInstruction={this.nextInstruction}/>,\n            <FullScreenButton key={0} docVar={document.documentElement} nextInstruction={this.nextInstruction}/>,\n             <InstructionTemplate key={1} divs={[<h1 key={\"Header 1\"} style={{position:\"relative\",top:\"100px\", fontSize:\"200px\", textAlign:\"center\"}}>Horizon Task</h1>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction}/>,\n            <InstructionTemplate key={2} divs={[<h1 key={\"Header 21\"} style={{position:\"relative\",top:\"100px\", textAlign:\"center\"}}>Welcome!</h1>,\n                <h1 key={\"Header 22\"} style={{position:\"relative\",top:\"150px\",textAlign:\"center\"}}>Thank you for volunteering for this experiment</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={3} divs={[\n                <h1 key={\"Header 3\"} style={{position:\"relative\",top:\"100px\",textAlign:\"center\", margin:\"100px\"}}>{\"This is a paid experiment.\\n You will be playing a gambling game and the amount we pay you will be based on your performance.\\nPlease read through these instructions carefully!\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={3} divs={[\n                <h1 key={\"Header 4\"} style={{position:\"relative\",top:\"100px\",textAlign:\"center\", margin:\"100px\"}}>{\"In this experiment - the gambling task - we would like you to choose between two one-armed bandits (i.e. slot machines) of the sort you might find in a casino.\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={4} divs={[\n                <h1 key={\"Header 5\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"The one-armed bandits will be represented like this:\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={51} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={5} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={52} animate={false} backgroundColor={\"blue\"}/>\n                            <GameMachine key={6} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={5} divs={[\n                <h1 key={\"Header 6\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\",height:\"100px\"}}>{\"Everytime you choose to play a particular bandit, it will be pulled like this...\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={51} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={52} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"} />\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={53} animate={false} backgroundColor={\"blue\"} delayAnimation={true} timeDelay={1000}/>\n                            <GameMachine key={54} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n                <InstructionTemplate key={6} divs={[\n                    <h1 key={\"Header 7\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\",marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"... and the payoff will be shown like this. For example, in this case the left bandit has been played and is paying out 77 points\"}</h1>,\n                    <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                        <div className=\"column\">\n                            <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                                <Lever key={61} animate={false} backgroundColor={\"red\"} delayAnimation={true} timeDelay={1000}/>\n                                <GameMachine key={62} index={0} valid={false} values={[77]} gameLength={5} machineColor={\"red\"} delayNumberReveal={true} timeDelay={1000}/>\n                            </div>\n                        </div>\n                        <div className=\"column\">\n                            <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                                <Lever key={63} animate={false} backgroundColor={\"blue\"} />\n                                <GameMachine key={64} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"} />\n                            </div>\n                        </div>\n                    </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n                <InstructionTemplate key={7} divs={[\n                    <h1  key={\"Header 8\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Your goal is to maximize the points you get throughout the task. Try your best to get to as many points as you can!\"}</h1>,\n                    <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                        <div className=\"column\">\n                            <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                                <Lever key={71} animate={false} backgroundColor={\"red\"}/>\n                                <GameMachine key={72} index={1} valid={false} values={[77]} gameLength={5} machineColor={\"red\"}/>\n                            </div>\n                        </div>\n                        <div className=\"column\">\n                            <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                                <Lever key={73} animate={false} backgroundColor={\"blue\"} />\n                                <GameMachine key={74} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"} />\n                            </div>\n                        </div>\n                    </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n               <InstructionTemplate key={8} divs={[\n                <h1 key={\"Header 9\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"During one game, each bandit tends to pay out about the same amount of reward on average, but there is variability in the reward on any given play\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={81} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={82} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={83} animate={false} backgroundColor={\"blue\"} />\n                            <GameMachine key={84} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"} />\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n               <InstructionTemplate key={9} divs={[\n                <h1 key={\"Header 10\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"For example, the average reward for the bandit on the right might be 50 points, but on the first play we might see a reward of 52 points because of the variability...\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={91} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={92} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={93} animate={false} backgroundColor={\"blue\"} delayAnimation={true} timeDelay={500}/>\n                            <GameMachine key={94} index={0} valid={false} values={[52]} gameLength={5} machineColor={\"blue\"} delayNumberReveal={true} timeDelay={500}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n              <InstructionTemplate key={10} divs={[\n                <h1 key={\"Header 11\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"...on the second play we might get 56 points\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={101} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={102} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={103} animate={false} backgroundColor={\"blue\"} delayAnimation={true} timeDelay={500}/>\n                            <GameMachine key={104} index={1} valid={false} values={[50,56]} gameLength={5} machineColor={\"blue\"} delayNumberReveal={true} timeDelay={500}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n             <InstructionTemplate key={110} divs={[\n                <h1 key={\"Header 12\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"...if we play a third time on the right we might get 45 points this time...\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={111} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={112} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={113} animate={false} backgroundColor={\"blue\"} delayAnimation={true} timeDelay={500}/>\n                            <GameMachine key={114} index={2} valid={false} values={[50,56,45]} gameLength={5} machineColor={\"blue\"} delayNumberReveal={true} timeDelay={500}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n             <InstructionTemplate key={120} divs={[\n                <h1 key={\"Header 13\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"...and so on such that if we were able to play the slot machine on the right 6 times in a row we might see these rewards\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\",alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={121} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={122} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={123} animate={false} backgroundColor={\"blue\"}/>\n                            <GameMachine key={124} index={6} valid={false} values={[50,56,45,39,51,50]} gameLength={5} machineColor={\"blue\"}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={13} divs={[\n                <h1 key={\"Header 14\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"On any trial you can only choose to play one of the two bandits and the number of trials in each game is determined by the height of the bandits.\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={120} divs={[\n                <h1 key={\"Header 15\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"For example, when the bandits are 10 boxes high, there are 10 trials in that game...\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"75px\"}}>\n                            <Lever key={121} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={122} index={0} valid={false} values={[]} gameLength={10} machineColor={\"red\"}/>\n                        </div>\n                    </div>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"75px\"}}>\n                            <Lever key={123} animate={false} backgroundColor={\"blue\"}/>\n                            <GameMachine key={124} index={0} valid={false} values={[]} gameLength={10} machineColor={\"blue\"}/>\n                        </div>\n                    </div>\n                </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n           <InstructionTemplate key={130} divs={[\n            <h1 key={\"Header 16\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\",height:\"100px\"}}>{\"...when the bandits are 5 boxes high, there are only 5 trials in the game.\"}</h1>,\n            <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={131} animate={false} backgroundColor={\"red\"}/>\n                        <GameMachine key={132} index={0} valid={false} values={[]} gameLength={5} machineColor={\"red\"}/>\n                    </div>\n                </div>\n                <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={133} animate={false} backgroundColor={\"blue\"}/>\n                        <GameMachine key={134} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"}/>\n                    </div>\n                </div>\n            </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n           <InstructionTemplate key={140} divs={[\n                <h1 key={\"Header 17\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\",height:\"100px\"}}>{\"The first four trials in each game are instructed trials. These instructed trials will be indicated by a green square inside the box we want you to open\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={141} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={142} index={0} valid={true} values={[]} gameLength={5} machineColor={\"red\"}/>\n                     </div>\n                 </div>\n                 <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={143} animate={false} backgroundColor={\"blue\"}/>\n                        <GameMachine key={144} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"}/>\n                    </div>\n                </div>\n            </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={13} divs={[\n                <h1 key={\"Header 18\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"You must press the corresponding ARROW KEY to choose this option in order to move on to see the reward and advance to the next trial\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n            <InstructionTemplate key={150} divs={[\n                <h1 key={\"Header 19\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"For example, if you are instructed to choose the left bandit on the first trial, you will see this below. You must use the LEFT ARROW key to choose this option.\"}</h1>,\n                <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                    <div className=\"column\">\n                        <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                            <Lever key={151} animate={false} backgroundColor={\"red\"}/>\n                            <GameMachine key={152} index={0} valid={true} values={[]} gameLength={5} machineColor={\"red\"}/>\n                     </div>\n                 </div>\n                 <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={153} animate={false} backgroundColor={\"blue\"}/>\n                        <GameMachine key={154} index={0} valid={false} values={[]} gameLength={5} machineColor={\"blue\"}/>\n                    </div>\n                </div>\n            </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={160} divs={[\n            <h1 key={\"Header 20\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"If you are instructed to choose the right bandit on the second trial, you will see this:\"}</h1>,\n            <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={161} animate={false} backgroundColor={\"red\"}/>\n                        <GameMachine key={162} index={1} valid={false} values={[77]} gameLength={5} machineColor={\"red\"}/>\n                </div>\n            </div>\n            <div className=\"column\">\n                <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                    <Lever key={163} animate={false} backgroundColor={\"blue\"}/>\n                    <GameMachine key={164} index={1} valid={true} values={[\"xxx\"]} gameLength={5} machineColor={\"blue\"}/>\n                </div>\n            </div>\n        </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={170} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Note that you do not earn any points for the four instructed trials, but you do learn something about how rewarding each bandit is\"}</h1>,\n            <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={171} animate={false} backgroundColor={\"red\"}/>\n                        <GameMachine key={172} index={4} valid={true} values={[77,\"xxx\",65,67]} gameLength={5} machineColor={\"red\"}/>\n                </div>\n            </div>\n            <div className=\"column\">\n                <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                    <Lever key={173} animate={false} backgroundColor={\"blue\"}/>\n                    <GameMachine key={174} index={4} valid={true} values={[\"xxx\",52,\"xxx\",\"xxx\"]} gameLength={5} machineColor={\"blue\"}/>\n                </div>\n            </div>\n        </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={180} divs={[\n            <h1 key={\"Header 22\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Once the instructed trials are complete, you will make free choices between the two bandits for the rest of the game (in this case 2 trials).\\n The free choices are indicated by two green squares inside the bandits you are choosing between.\"}</h1>,\n            <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={181} animate={false} backgroundColor={\"red\"}/>\n                        <GameMachine key={182} index={4} valid={true} values={[77,\"xxx\",65,67]} gameLength={5} machineColor={\"red\"}/>\n                </div>\n            </div>\n            <div className=\"column\">\n                <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                    <Lever key={183} animate={false} backgroundColor={\"blue\"}/>\n                    <GameMachine key={184} index={4} valid={true} values={[\"xxx\",52,\"xxx\",\"xxx\"]} gameLength={5} machineColor={\"blue\"}/>\n                </div>\n            </div>\n        </div>]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={190} divs={[\n            <h1 key={\"Header 23\"} style={{position:\"relative\",top:\"50px\", textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Your goal on the task's free choice trials is to earn the most points you can. The more you choose the bandit with the higher average reward, the more money you will earn in the task.\"}</h1>,\n            <div className=\"row\" style={{justifyContent:\"space-evenly\", alignItems:\"center\"}}>\n                <div className=\"column\">\n                    <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                        <Lever key={191} animate={false} backgroundColor={\"red\"}/>\n                        <GameMachine key={192} index={4} valid={true} values={[77,\"xxx\",65,67]} gameLength={5} machineColor={\"red\"}/>\n                </div>\n            </div>\n            <div className=\"column\">\n                <div className=\"row\" style={{position:\"relative\", top:\"100px\"}}>\n                    <Lever key={193} animate={false} backgroundColor={\"blue\"}/>\n                    <GameMachine key={194} index={4} valid={true} values={[\"xxx\",52,\"xxx\",\"xxx\"]} gameLength={5} machineColor={\"blue\"}/>\n                </div>\n            </div>\n        </div>,\n        ]} nextInstructionKey=\"n\" nextInstruction={this.nextInstruction} previousInstructionKey=\"b\" previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={20} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Let's try a few practice rounds to check your understanding so far.\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n        <InstructionTrial key={\"Horizon practice trial 1\"} trial={0} {...{gameLength:10,machineVars:[{mu:60,sd:8,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:20,sd:8,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[0],[1],[1],[1]],trialDescription:\"Practice Horizon Trial\"}} total_points={0} nextInstruction={this.nextInstruction}/>,\n        <InstructionTemplate key={21} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"In this practice trial, you should have found that the left, red bandit gave out the higher reward on average. Lets try another practice trial.\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction} previousJump={2}/>,\n        <InstructionTrial key={\"Horizon practice trial 2\"} trial={0} {...{gameLength:10,machineVars:[{mu:30,sd:8,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:90,sd:8,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[1],[0],[1],[0]],trialDescription:\"Practice Horizon Trial\"}} total_points={0} nextInstruction={this.nextInstruction}/>,\n        <InstructionTemplate key={22} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"In this practice trial, you should have found that the right, blue bandit gave out the higher reward on average.\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction} previousJump={2}/>,\n        <InstructionTemplate key={23} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"The points you earn in a single round will be shown in a display box in the left side of your screen, for example if you have earned 53 points you would see a box that looks like this:\"}</h1>,<h1 style={{justifyContent:\"center\",width:\"100%\", textAlign:\"center\", position:\"relative\", display:\"flex\", top:\"200px\"}}><PointCounter points=\"53\" width=\"300px\" height=\"75px\" borderColor=\"black\" description=\"Money This Round\"/></h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={24} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"The total points earned across the entire game will be shown in a display box in the right side of your screen, for example if you had a total of 3000 points you would see a box that looks like this:\"}</h1>,<h1 style={{justifyContent:\"center\",textAlign:\"center\",position:\"relative\",width:\"100%\",display:\"flex\", top:\"200px\"}}><TotalPointCounter points=\"3000\" totalPoints={this.terminationPoints} width=\"300px\" height=\"75px\" borderColor=\"black\" description=\"Total Money Earned\"/></h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n        <InstructionTemplate key={25} divs={[\n            <h1 key={\"Header 22\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Let's try a couple of practice trials of the complete game:\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n        <div key={1}>placeholder for instruction trial</div>,\n        <div key ={2}>placeholder for instruction trial</div>,\n        <div key ={3}>placeholder for instruction trial</div>,\n        <div key ={4}>placeholder for instruction trial</div>,\n        <InstructionTemplate key={29} divs={[\n            <h1 key={\"Header 21\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"The game will go until you have done 80 trials or you have reached 20,000$. Since you earn higher points by choosing the more profitable bandit on each trial, if you perform well you will be able to finish faster!\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction} previousJump={5}/>,\n        <InstructionTemplate key={30} divs={[\n            <h1 key={\"Header 22\"} style={{position:\"relative\",top:\"50px\",textAlign:\"center\", marginLeft:\"50px\", marginRight:\"50px\", height:\"100px\"}}>{\"Good luck! To begin the task, press n. If you wish to review any of the instructions, press b.\"}</h1>]} nextInstructionKey=\"n\" previousInstructionKey=\"b\" nextInstruction={this.nextInstruction} previousInstruction={this.previousInstruction}/>,\n        ]\n        let gameTrials=Make_Bandits()\n        this.game=gameTrials\n        /*\n        {gameLength:8,machineVars:[{mu:3,sd:4,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:3,sd:4,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[0],[1],[1],[1]],trialDescription:\"Normal Horizon\"},\n        {gameLength:8,machineVars:[{mu:3,sd:4,keyBind:\"ArrowLeft\",color:\"red\", description:\"Bandit 1\"},{mu:3,sd:4,keyBind:\"ArrowRight\",color:\"blue\",description:\"Bandit 2\"}],force:[[1],[0],[0],[1]],trialDescription:\"Normal Horizon\"},\n        {gameLength:8,machineVars:[{mu:3,sd:4,keyBind:\"1\",color:\"red\", description:\"Teaching Option 1\"},{mu:3,sd:4,keyBind:\"2\",color:\"blue\",description:\"Teaching Option 2\"},{mu:3,sd:4,keyBind:\"3\",color:\"purple\",description:\"Teaching Option 3\"},{mu:3,sd:4,keyBind:\"4\",color:\"#E75480\",description:\"Teaching Option 4\"}],force:[[0],[1]],trialDescription:\"Teaching Stuff 1!\"},\n        {gameLength:4,machineVars:[{mu:3,sd:4,keyBind:\"1\",color:\"red\", description:\"Teaching Option 1\"},{mu:3,sd:4,keyBind:\"2\",color:\"blue\",description:\"Teaching Option 2\"},{mu:3,sd:4,keyBind:\"3\",color:\"purple\",description:\"Teaching Option 3\"}],force:[[1,2],[1]],trialDescription:\"More Teaching Stuff!\"},\n        {gameLength:8,machineVars:[{mu:3,sd:4,keyBind:\"1\",color:\"red\", description:\"Teaching Option 1\"},{mu:3,sd:4,keyBind:\"2\",color:\"blue\",description:\"Teaching Option 2\"},{mu:3,sd:4,keyBind:\"3\",color:\"purple\",description:\"Teaching Option 3\"}],force:[[1,2],[1]],trialDescription:\"More Teaching Stuff!\"}\n        */\n    }\n    nextInstructionTrial(data,round_points){\n        console.log(data)\n        console.log(\"Next Instruction Trial\")\n        let metaData=data.meta_data\n        let trialParams=data.meta_data.addedMetaData\n        console.log(metaData.deltaMu)\n        let usefulData={trial:metaData.trial,gameLength:trialParams.gameLength, banditForce:trialParams.forcedBandit, mainBandit:trialParams.mainBandit, mainBanditMu:trialParams.mu, mainBanditSd:trialParams.sd, deltaMu:trialParams.deltaMu, trialData:data.trial_data}\n        this.gameData.push(usefulData)\n        this.csvData+=JSON_To_CSV(usefulData)\n        this.sendDataToExius(JSON.stringify(this.gameData),this.csvData)\n        this.setState({instructionNumber:this.state.instructionNumber+1,instructionPoints:this.state.instructionPoints+=round_points})\n    }\n    nextTrial(data,round_points){\n        // This advances the game to the next trial. It gets fired from it's child component, HorizonTrial.\n        let metaData=data.meta_data\n        let trialParams=data.meta_data.addedMetaData\n        let usefulData={trial:metaData.trial,gameLength:trialParams.gameLength, banditForce:trialParams.forcedBandit, mainBandit:trialParams.mainBandit, mainBanditMu:trialParams.mu, mainBanditSd:trialParams.sd, deltaMu:trialParams.deltaMu, trialData:data.trial_data}\n        this.gameData.push(usefulData)\n        this.csvData+=JSON_To_CSV(usefulData)\n        this.sendDataToExius(JSON.stringify(this.gameData),this.csvData)\n        this.totalPoints+=round_points\n        console.log(\"next Trial\")\n        if (this.totalPoints > this.terminationPoints){\n            this.setState({currentTrial:this.game.length})\n        }\n        else{\n            this.setState({currentTrial:this.state.currentTrial+1})\n        }\n    }\n    getWriteKey(writeKey){\n        this.writeKey=writeKey\n        console.log(`write key passed ${this.writeKey}`)\n    }\n    async sendDataToExius(JSONData,CSVData){\n        try{\n            let dateStart=Date.now()\n            await Send_Data_To_Exius([{endpoint:\"HorizonJSON\",fname:\"Subject.json\",data:JSONData},{endpoint:\"HorizonCSV\",fname:\"Subject.csv\",data:CSVData}],\"Horizon_Task\",this.writeKey)\n            let dateEnd=Date.now()\n            console.log(dateStart-dateEnd)\n        }\n        catch(e){\n            console.log(e)\n            console.log(\"data send fail\")\n        }\n    }\n    nextInstruction(instructionJump=1){\n        // This moves the instruction set to the next in the sequence\n        this.setState({instructionNumber:this.state.instructionNumber+instructionJump})\n    }\n    previousInstruction(instructionJump=1){\n        // This moves the instruction set to the previous in the sequence\n        this.setState({instructionNumber:this.state.instructionNumber-instructionJump})\n    }\n    render(){\n        //render renders the current game screen.\n       if (this.state.instructionNumber<this.instructions.length){\n           let instructionBegin=33\n           if (instructionBegin<=this.state.instructionNumber && this.state.instructionNumber<=instructionBegin+3){\n                return <HorizonTrial key={`instructionTrial ${this.state.instructionNumber-instructionBegin}`} trial={`instruction ${this.state.instructionNumber -instructionBegin}`} {...this.instructionVars[this.state.instructionNumber -instructionBegin]} total_points={this.state.instructionPoints} nextTrial={this.nextInstructionTrial} terminationPoints={this.terminationPoints}/>\n           }\n           else{\n            return this.instructions[this.state.instructionNumber]\n           }\n        }\n        else if (this.state.currentTrial<this.game.length){\n            return <HorizonTrial key={\"Horizon trial \"+String(this.state.currentTrial)} trial={this.state.currentTrial} {...this.game[this.state.currentTrial]} total_points={this.totalPoints} nextTrial={this.nextTrial} terminationPoints={this.terminationPoints}/>\n          }\n        else {\n            return <Endscreen money={this.totalPoints} bonus=\"2$\" data={this.gameData}/>\n        }\n        }\n}         \nfunction JSON_To_CSV(usefulData){\n    let usefulDataClone=JSON.parse(JSON.stringify(usefulData))\n    let trialData=usefulDataClone.trialData\n    let trialString=\"\"\n    let fullString=\"\"\n    for (const trial of trialData){\n        if (trial === 'banditForce'){\n            trialString +=`\"${trial}\"`\n        }\n        else{\n            trialString+=`\"${Stringify_Single_Quotes(trial)}\",`\n\n        }\n    }\n    if (trialData.length==5){\n        trialString+=\",,,,,\"\n    }\n    let finalTrialString=trialString.substring(0,trialString.length-1)+\"\\n\"\n    delete usefulDataClone.trialData\n    for (const value of Object.values(usefulDataClone)){\n        fullString+=`\"${value}\",`\n    }\n    return (fullString+finalTrialString)\n\n}\nfunction Stringify_Single_Quotes(data){\n    let JSON_single=\"{\"\n    for (const [key,value] of Object.entries(data)){\n        JSON_single+=`${key}:${value},`\n    }\n    let JSON_Stringed=JSON_single.substring(0,JSON_single.length-1)\n    JSON_Stringed+=\"}\"\n    return JSON_Stringed\n}\nasync function Send_Data_To_Exius(params,templateKey,writeKey){\n    // [{endpoint:Horizon_CSV,data:data,fname:fname}]\n    try{\n        var fd=new FormData()\n        for ( const fileInfo of params){\n            let URL = new Blob([fileInfo.data], { type: 'text/csv;charset=utf-8;' });\n            fd.append(fileInfo.endpoint,URL,fileInfo.fname)\n        }\n        let res = await fetch(\"https://exius.nrdlab.org/Upload\",{\n            headers:{authorization:`templateKey:${templateKey};writeKey:${writeKey}`},\n            method:\"POST\",\n            body: fd})\n        return await res.json()}\n    catch(e){\n        throw e\n    }}\nexport default HorizonGame","import ReactDOM from 'react-dom';\nimport HorizonGame from './components/HorizonGame'\nReactDOM.render(<HorizonGame/>,\n  document.getElementById('root')\n);"],"sourceRoot":""}